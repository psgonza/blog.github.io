<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>bynario.com</title>
  <meta name="author" content="psgonza">

  <link href="/rss.xml" type="application/rss+xml" rel="alternate"
        title="bynario.com RSS Feed" />



  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="/favicon.png" rel="icon">

  <link href="/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="/"><img src="https://dl.dropboxusercontent.com/u/14814182/blog/bynario_logo.gif"></a></h1>
</hgroup></header>
  <nav role="navigation">
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
    <li><a href="/">Home</a></li>
    <li><a href="/category/posts.html">Posts</a></li>
    <li><a href="/rss.xml">RSS</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div class="blog-index">
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/2015-09-09-ipv4-vs-tv.html">Quick Thought I - IPv4 vs TV</a>
      </h1>
    <p class="meta">
<time datetime="2015-09-09T10:10:10+02:00" pubdate>Wed 09 September 2015</time>    </p>
</header>

  <div class="entry-content"><p>Watching <a href="http://www.imdb.com/title/tt4158110/">Mr Robot</a> Episode 1 (I know, I am kind of late, but I have a lot of TV series in my "backlog") I noticed again they used a wrong IPv4 address... Yes, they talk about rootkits, KDE, DDos, etc, etc, but one of the key details of this first episode it's this  IP address (not the address itself, but what Malek does with it, if you know what I mean...). How come it's so difficult to remember that only values from 0 and 255 are allowed??? (we could discuss whether they are valid IP addresses for hosts or networks but let's keep it simple) </p>
<p><strong> '218.108.149.373' </strong></p>
<p>And unfortunately this simple error is pretty common in TV shows and movies... The same thing happened several months ago in <a href="http://www.imdb.com/title/tt2717822/?ref_=nv_sr_1">Blackhat</a>, another "hacking" movie:</p>
<p><strong> '157.257.273.12' </strong></p>
<p>I cannot wait to see what's going to happen when IPv6 finally kicks in :)</p></div>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/2015-07-16-cleaning-up-my-feedly-subscriptions.html">Cleaning up my feedly subscriptions</a>
      </h1>
    <p class="meta">
<time datetime="2015-07-16T10:10:10+02:00" pubdate>Thu 16 July 2015</time>    </p>
</header>

  <div class="entry-content"><p>(I wrote this post in my way back to the old continent... According to the map, we were flying over <a href="https://en.wikipedia.org/wiki/Yarenga_River">Jarenga river</a>, in the mother Russia) </p>
<p>I don't know you, but I have been using RSS clients since, well, foverer I'd say... First <a href="https://www.kde.org/applications/internet/akregator/">Akregator</a> in KDE, then Google Reader (I still wonder why Google had to shut it down) and finally, as most of the people did, I moved to <a href="http://feedly.com">Feedly</a>, and I am pretty happy with it, no complains at all.</p>
<p>A few days ago I was taking a look at my RSS subscriptions and there were more than 400 websites that I have been adding during all these years, so I deciced to clean it up a little bit using Python.</p>
<p>I came up with the script you can see below... It is fairly simple (and it uses only standard library modules) but does the job for me. </p>
<p>In order to use it, you just need to export your feedly subscriptios (you will get an opml file) and execute the script. You will get a new file without the "dead" links ready to be imported.</p>
<p>Usage:</p>
<p><code># python3 feedly_checker.py myfeedlyrss.opml</code></p>
<p>Code:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">xml.dom</span> <span class="k">import</span> <span class="n">minidom</span>

<span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">urlparse</span>

<span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">usage</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Usage: python3 &quot;</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &lt;feedly_export_file&gt;.opml&quot;</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">parse_feed</span><span class="p">(</span><span class="n">xmlfile</span><span class="p">):</span>
    <span class="n">feeds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xmlfile</span><span class="p">)):</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">xmlfile</span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;rss&quot;</span><span class="p">:</span>
            <span class="n">tmp</span><span class="p">[</span><span class="n">xmlfile</span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">xmlfile</span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">&#39;xmlUrl&#39;</span><span class="p">)</span>
            <span class="n">feeds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">feeds</span>


<span class="k">def</span> <span class="nf">check_http_response</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">rss</span> <span class="ow">in</span> <span class="n">url</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">rss</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="n">addr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">80</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;HEAD&quot;</span><span class="p">,</span> <span class="n">addr</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">res</span><span class="o">.</span><span class="n">status</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
                <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rss</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Name: </span><span class="si">%s</span><span class="s2">, URL:</span><span class="si">%s</span><span class="s2">, Error Code:</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">rss</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">status</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPException</span><span class="p">:</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rss</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">load_xml</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">long_input_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">xmldoc</span> <span class="o">=</span> <span class="n">minidom</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">long_input_file</span><span class="p">)</span>
        <span class="n">item_res</span> <span class="o">=</span> <span class="n">xmldoc</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;outline&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error parsing xml file&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">item_res</span>


<span class="k">def</span> <span class="nf">clean_xml</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">errors</span><span class="p">):</span>
    <span class="n">xmldoc</span> <span class="o">=</span> <span class="n">minidom</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="n">doc_root</span> <span class="o">=</span> <span class="n">xmldoc</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;outline&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">doc_root</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">j</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;rss&quot;</span> <span class="ow">and</span> <span class="n">j</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">&#39;xmlUrl&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
            <span class="n">j</span><span class="o">.</span><span class="n">parentNode</span><span class="o">.</span><span class="n">removeChild</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Removing... </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">j</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">&#39;xmlUrl&#39;</span><span class="p">)))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span> <span class="o">+</span> <span class="s2">&quot;_clean&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">xmldoc</span><span class="o">.</span><span class="n">toxml</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating </span><span class="si">%s</span><span class="s2">_clean file...&quot;</span> <span class="o">%</span> <span class="n">filename</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error creating </span><span class="si">%s</span><span class="s2">_clean file&quot;</span> <span class="o">%</span> <span class="n">filename</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">usage</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">input_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">outlineItems</span> <span class="o">=</span> <span class="n">load_xml</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">parse_feed</span><span class="p">(</span><span class="n">outlineItems</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> entries found in </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">),</span> <span class="n">input_file</span><span class="p">))</span>

<span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="n">check_http_response</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> wrong entries found&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)))</span>

<span class="n">clean_xml</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">errors</span><span class="p">)</span>

<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>It's been a quick excersice (POC?), so there is <strong><em>a lot</em></strong> of room for improvement... </p>
<ol>
<li>It is not fast, because it is single-thread, and it has to wait for the http connection to timeout. </li>
<li>Any error code above 400 will make the link to be removed... Some error codes 5xx are "temporary server errors", but they will be deteled as well... It'd need some extra work</li>
</ol>
<p>\\psgonza</p></div>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/2015-07-14-sharing-images-like-a-pro.html">Sharing images like a "Pr0"</a>
      </h1>
    <p class="meta">
<time datetime="2015-07-14T13:00:00+02:00" pubdate>Tue 14 July 2015</time>    </p>
</header>

  <div class="entry-content"><blockquote>
<p>Disclaimer: it's summer, we are under a really long heat wave in Spain, so I didn't feel like moving from the couch (you will understand later :D)</p>
</blockquote>
<p>Yesterday evening I was laying on the couch surfing Amazon website using an old laptop (very old) that I barely use, and at some point, I took an screenshot I needed to share with a friend via corporate email... (my idea was to send it to my email account, and this morning, send it from my corporate account)</p>
<p>Anyway, after taking the screenshot I realized:</p>
<ul>
<li>I was no logged in gmail, dropbox, github, etc , and in order to login, I would need a token from my cellphone  (and my smartphone was in a different room!!!)</li>
<li>No USB drives around</li>
<li>The image sharing alternatives that I know of, requires you to create an user and  login… Too much for a onetime thing</li>
</ul>
<p>So I decided to use <a href="http://pastebin.com/">pastebin</a> to store the image in text format:</p>
<ol>
<li>
<p>Take the screenshot (I used scrot, feel free to use any other tool…) : <code>scrot -d 5 ~/amazon.jpg</code></p>
</li>
<li>
<p>Gzip the file: <code>gzip ~/amazon.jpg</code></p>
</li>
<li>
<p>Convert to base64: <code>base64 ~/amazon.jpg.gz &gt; ~/amazon.b64</code></p>
</li>
<li>
<p>Cat the file and paste the (long) result into pastebin and write down the  <a href="http://pastebin.com/rgXncvEz9">url</a></p>
</li>
</ol>
<p>This morning from my corporate laptop:</p>
<ol>
<li>
<p>Download the file from pastebin (save it as amazon.b64)</p>
</li>
<li>
<p>Set file format UNIX... For instance, using vi: ESC:set ff=unix</p>
</li>
<li>
<p>Decode it:<code>base64 -d amazon.b64 &gt; amazon.jpg.gz</code></p>
</li>
<li>
<p>Unzip it: <code>gunzip amazon.jpg.gz</code></p>
</li>
</ol>
<p>Et voila, we have the same picture….</p>
<p>I know this doesn't seem very useful (or yes, who knows?) but you might follow the same approach for other things… For instance, I use pretty much the same thing in Python for embedding an old version of <a href="https://github.com/pexpect/pexpect">pexpect</a> module in my scripts</p>
<p>Later</p></div>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/2015-07-11-issues-with-synology-2fa.html">Issues with Synology 2FA</a>
      </h1>
    <p class="meta">
<time datetime="2015-07-11T00:00:00+02:00" pubdate>Sat 11 July 2015</time>    </p>
</header>

  <div class="entry-content"><p>Hi there</p>
<p>After a few months in the shelf, today I reconnected my <a href="https://www.synology.com/en-global/products/DS215j">Synology DS215j</a>, and to my surprise, I wasn't able to login via DiskStation GUI due to a problem with my autenthication:</p>
<p>{% img center /img/synology_ntp_mismatch.jpg 'DSM Error' %}</p>
<p>It was weird because:</p>
<p>a) (you are going to love this one...) <strong><em>"It was working before"</em></strong><br>
  b) I could login to my NAS via SSH with the same user/pass, so it was clearly a problem with the 2 Factor Authethication</p>
<p>Once in SYNOLOGY CLI, I realized the system time was wrong:</p>
<p>{% img center /img/synology_2fa_error.png 'ntp mismatch' %}</p>
<p>As you can (hopefully) see in the picture, the time in the SYNOLOGY CLI (23:58:13) differs from the one in web GUI (23:54) (and the system time in my MBP as well)</p>
<p>So I connected to the NAS with root password (rather sooner than later I would need to "enable" sudo and block root user in SSH) and updated the date by running:</p>
<div class="highlight"><pre><span></span><span class="n">ntpdate</span> <span class="o">-</span><span class="n">u</span> <span class="n">pool</span><span class="p">.</span><span class="n">ntp</span><span class="p">.</span><span class="n">org</span>
</pre></div>


<p>(If this isn't working, try killing <code>ntpd</code> and run <code>ntpdate -u pool.ntp.org</code> again)</p>
<p>After that, I managed to login using my 2FA code as expected... </p>
<p>Bytes!</p>
<p>PS: First post using github as text editor... Let's see how this goes.</p></div>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/2015-07-08-problems-installing-ipython-notebook-in-cygwin.html">Problems installing IPython Notebook in Cygwin (W7)</a>
      </h1>
    <p class="meta">
<time datetime="2015-07-08T10:41:04+02:00" pubdate>Wed 08 July 2015</time>    </p>
</header>

  <div class="entry-content"><p>While trying to "pip install <a href="http://ipython.org/">ipython[notebook]</a>" in my Cygwin installation (W7), I got this error due to libzmq:</p>
<div class="highlight"><pre><span></span> <span class="n">Collecting</span> <span class="n">ipython</span><span class="p">[</span><span class="n">notebook</span><span class="p">]</span>

<span class="p">[</span><span class="o">...</span><span class="p">]</span>

 <span class="n">Running</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="k">for</span> <span class="n">pyzmq</span>

<span class="p">[</span><span class="o">...</span><span class="p">]</span>

<span class="n">gcc</span> <span class="o">-</span><span class="n">Wno</span><span class="o">-</span><span class="n">unused</span><span class="o">-</span><span class="n">result</span> <span class="o">-</span><span class="n">DNDEBUG</span> <span class="o">-</span><span class="n">g</span> <span class="o">-</span><span class="n">fwrapv</span> <span class="o">-</span><span class="n">O3</span> <span class="o">-</span><span class="n">Wall</span> <span class="o">-</span><span class="n">Wstrict</span><span class="o">-</span><span class="n">prototypes</span> <span class="o">-</span><span class="n">ggdb</span> <span class="o">-</span><span class="n">O2</span> <span class="o">-</span><span class="n">pipe</span> <span class="o">-</span><span class="n">Wimplicit</span><span class="o">-</span><span class="n">function</span><span class="o">-</span><span class="n">declaration</span> 
<span class="o">-</span><span class="n">fdebug</span><span class="o">-</span><span class="n">prefix</span><span class="o">-</span><span class="nb">map</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ports</span><span class="o">/</span><span class="n">python3</span><span class="o">/</span><span class="n">python3</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mf">1.</span><span class="n">i686</span><span class="o">/</span><span class="n">build</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">python3</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span> 
<span class="o">-</span><span class="n">fdebug</span><span class="o">-</span><span class="n">prefix</span><span class="o">-</span><span class="nb">map</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ports</span><span class="o">/</span><span class="n">python3</span><span class="o">/</span><span class="n">python3</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mf">1.</span><span class="n">i686</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">Python</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">3</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">python3</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span> 
<span class="o">-</span><span class="n">DZMQ_USE_POLL</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">DHAVE_LIBSODIUM</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">Ibundled</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">include</span> <span class="o">-</span><span class="n">Ibundled</span> <span class="o">-</span><span class="n">Ibundled</span><span class="o">/</span><span class="n">libsodium</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">libsodium</span><span class="o">/</span><span class="n">include</span> 
<span class="o">-</span><span class="n">Ibundled</span><span class="o">/</span><span class="n">libsodium</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">libsodium</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">sodium</span> <span class="o">-</span><span class="n">I</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">4</span><span class="n">m</span> <span class="o">-</span><span class="n">c</span> <span class="n">bundled</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">address</span><span class="o">.</span><span class="n">cpp</span> 
<span class="o">-</span><span class="n">o</span> <span class="n">build</span><span class="o">/</span><span class="n">temp</span><span class="o">.</span><span class="n">cygwin</span><span class="o">-</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">4</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mf">3.4</span><span class="o">/</span><span class="n">bundled</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">address</span><span class="o">.</span><span class="n">o</span>

<span class="n">gcc</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="nb">file</span> <span class="ow">or</span> <span class="n">directory</span>
<span class="n">error</span><span class="p">:</span> <span class="n">command</span> <span class="s1">&#39;gcc&#39;</span> <span class="n">failed</span> <span class="k">with</span> <span class="nb">exit</span> <span class="n">status</span> <span class="mi">1</span>

<span class="o">----------------------------------------</span>

<span class="n">Command</span> <span class="s2">&quot;/usr/bin/python3 -c &quot;</span><span class="kn">import</span> <span class="nn">setuptools</span><span class="o">,</span> <span class="nn">tokenize</span><span class="p">;</span><span class="vm">__file__</span><span class="o">=</span><span class="s1">&#39;/tmp/pip-build-l4nkh9zq/pyzmq/setup.py&#39;</span><span class="p">;</span>
<span class="k">exec</span><span class="p">(</span><span class="nb">compile</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">tokenize</span><span class="p">,</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="nb">open</span><span class="p">)(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">),</span> <span class="vm">__file__</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">))</span><span class="s2">&quot; </span>
<span class="n">install</span> <span class="o">--</span><span class="n">record</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">pip</span><span class="o">-</span><span class="n">jicpjqak</span><span class="o">-</span><span class="n">record</span><span class="o">/</span><span class="n">install</span><span class="o">-</span><span class="n">record</span><span class="o">.</span><span class="n">txt</span> <span class="o">--</span><span class="n">single</span><span class="o">-</span><span class="n">version</span><span class="o">-</span><span class="n">externally</span><span class="o">-</span><span class="n">managed</span> <span class="o">--</span><span class="nb">compile</span><span class="s2">&quot; </span>
<span class="n">failed</span> <span class="k">with</span> <span class="n">error</span> <span class="n">code</span> <span class="mi">1</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">pip</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">l4nkh9zq</span><span class="o">/</span><span class="n">pyzmq</span>
</pre></div>


<p>It took me a while to figure it out... In case you were in a similar situation, this is what I did:</p>
<p>1) Install some tools (via <a href="https://github.com/transcode-open/apt-cyg">apt-cyg</a> or setup.exe)</p>
<div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">cyg</span> <span class="n">install</span> <span class="n">libtool</span> <span class="n">automake</span> <span class="n">autoconf</span>   
</pre></div>


<p>(you will need the usual tools for compiling C/C++ code, such as gcc,g++,make, etc,etc)</p>
<p>2) Export <code>PKG_CONFIG_PATH</code></p>
<div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PKG_CONFIG_PATH</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">pkgconfig</span>
</pre></div>


<p>3) Download and compile <a href="https://github.com/jedisct1/libsodium/releases">libsodium</a></p>
<div class="highlight"><pre><span></span><span class="p">.</span><span class="o">/</span><span class="n">configure</span>
<span class="n">make</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>


<p>4) Download and compile <a href="https://github.com/zeromq/libzmq">libzmq</a></p>
<div class="highlight"><pre><span></span><span class="p">.</span><span class="o">/</span><span class="n">autogen</span><span class="p">.</span><span class="n">sh</span>
<span class="p">.</span><span class="o">/</span><span class="n">configure</span>
<span class="n">make</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>


<p>5) Finally, try to install ipython[notebook] again:</p>
<div class="highlight"><pre><span></span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">ipython</span><span class="o">[</span><span class="n">notebook</span><span class="o">]</span><span class="w"></span>
</pre></div>


<p>It worked for me... Hope it helps you.</p>
<p>Later</p></div>
  		</article>
<div class="pagination">
    <a class="prev" href="/index9.html">&larr; Older</a>

    <a class="next" href="/index7.html">Newer &rarr;</a>
  <br />
</div></div>
<aside class="sidebar">
  <section>
	  <img src="https://dl.dropboxusercontent.com/u/14814182/blog/roundPic.gif" alt="" width=""/> 
  </section>
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="/2018-05-15-batch-macos-convert-resize-nef-to-jpg.html">NEF batch processing in MacOS (from CLI)</a>
      </li>
      <li class="post">
          <a href="/2018-02-17-psa_minikeepass_and_key_files.html">PSA: MiniKeePass and key files</a>
      </li>
      <li class="post">
          <a href="/2017-12-31-bye-bye-2017_hello-2018.html">Bye bye 2017, hello 2018</a>
      </li>
      <li class="post">
          <a href="/2017-08-25-string-manipulation-exercise-perl-python-awk.html">String manipulation exercise: Perl, Python, Awk</a>
      </li>
      <li class="post">
          <a href="/2017-06-05-issues-running-gpg-in-a-container.html">Issues running gpg in a container</a>
      </li>
    </ul>
  </section>

  <section>
  <h1>Tags</h1>
    <a href="/tag/pelican.html">pelican</a>,    <a href="/tag/google.html">google</a>,    <a href="/tag/data-science.html">data science</a>,    <a href="/tag/telegram.html">telegram</a>,    <a href="/tag/coding.html">coding</a>,    <a href="/tag/blogging.html">blogging</a>,    <a href="/tag/books.html">books</a>,    <a href="/tag/linux.html">linux</a>,    <a href="/tag/images.html">images</a>,    <a href="/tag/technology.html">technology</a>,    <a href="/tag/bynario.html">bynario</a>,    <a href="/tag/spotify.html">spotify</a>,    <a href="/tag/git.html">Git</a>,    <a href="/tag/networking.html">networking</a>,    <a href="/tag/ads.html">ads</a>,    <a href="/tag/quickthoughts.html">quickthoughts</a>,    <a href="/tag/spam.html">spam</a>,    <a href="/tag/tv.html">tv</a>,    <a href="/tag/octopress.html">octopress</a>,    <a href="/tag/psgonza.html">psgonza</a>,    <a href="/tag/synology.html">synology</a>,    <a href="/tag/perl.html">perl</a>,    <a href="/tag/nas.html">nas</a>,    <a href="/tag/internet.html">internet</a>,    <a href="/tag/interview.html">interview</a>,    <a href="/tag/2014.html">2014</a>,    <a href="/tag/2017.html">2017</a>,    <a href="/tag/2016.html">2016</a>,    <a href="/tag/iptables.html">iptables</a>,    <a href="/tag/kubernetes.html">kubernetes</a>,    <a href="/tag/python.html">python</a>,    <a href="/tag/ntp.html">ntp</a>,    <a href="/tag/2015.html">2015</a>,    <a href="/tag/keepass.html">keepass</a>,    <a href="/tag/photos.html">photos</a>,    <a href="/tag/ssmtp.html">ssmtp</a>,    <a href="/tag/awk.html">awk</a>,    <a href="/tag/cygwin.html">cygwin</a>,    <a href="/tag/meetups.html">meetups</a>,    <a href="/tag/scripts.html">scripts</a>,    <a href="/tag/ipython.html">ipython</a>,    <a href="/tag/monitoring.html">monitoring</a>,    <a href="/tag/security.html">security</a>,    <a href="/tag/bash.html">bash</a>,    <a href="/tag/rss.html">rss</a>,    <a href="/tag/macos.html">macos</a>,    <a href="/tag/tips.html">tips</a>,    <a href="/tag/geotagging.html">geotagging</a>,    <a href="/tag/ssl.html">ssl</a>,    <a href="/tag/windows.html">windows</a>,    <a href="/tag/blogs.html">blogs</a>,    <a href="/tag/privacy.html">privacy</a>,    <a href="/tag/programming.html">programming</a>,    <a href="/tag/cli.html">cli</a>,    <a href="/tag/podcasts.html">podcasts</a>,    <a href="/tag/ansible.html">ansible</a>,    <a href="/tag/opinion.html">opinion</a>,    <a href="/tag/docker.html">docker</a>,    <a href="/tag/note2self.html">note2self</a>,    <a href="/tag/scripting.html">scripting</a>  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <p><a href="https://github.com/psgonza">@psgonza</a></p>
    </ul>
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = '/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'psgonza',
              count: 5,
              skip_forks: false,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="/rss.xml" type="application/rss+xml" rel="alternate">RSS</a></li>
            <li><a href="#" target="_blank">You can add links in your config file</a></li>
            <li><a href="#" target="_blank">Another social link</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
            <li><a href="http://python.org/" target="_blank">Python.org</a></li>
            <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
            <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        </ul>
    </section>

<section>
   <h1>Tweeter</h1>
    <p>Follow <a href="http://twitter.com/psgonza">@psgonza</a></p>
</section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2011&ndash;2018  psgonza &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="/theme/js/modernizr-2.0.js"></script>
  <script src="/theme/js/ender.js"></script>
  <script src="/theme/js/octopress.js" type="text/javascript"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-90925-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90925-1');
    ga('send', 'pageview');
</script>
  <script type="text/javascript">
    var disqus_shortname = 'bynario';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
</body>
</html>